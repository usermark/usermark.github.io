---
layout: article
title: '[3D列印] 斷料、跳電補救續印教學'
date: 2024-01-01 08:26:15
tags:
- 3D列印
---
列印大型物件時，就有較高機率碰到斷料或跳電，整個重印又太浪費線材和時間。今天就來嘗試修改gcode檔，從中斷點續印。
<!--more-->
以下教學使用的設備是創想Ender-3 S1，切層軟體為Cura 5.6.0。

# 重要

![](/assets/z_detect.jpg)

開機後，若要操作軸移動，會有回原點的行為，就有撞到物件的風險。就算沒有撞到，當設備用Z軸的撞針撞到物件的話，就為將該位置視為Z軸的平面，Z軸設定就會跑掉，因此開機前要將物件先移走。我的作法是撞針下去前才將平面的一角放上去，讓Z軸可以正確測量和設定。
![](/assets/z_detect2.jpg)

# 找到中斷點Z軸高度

在噴嘴冷卻且沒殘料的情況，讓噴嘴移動到物件上方，同時利用A4紙確認不會太緊也不會太鬆。
![](/assets/a4_detect.jpg)

接著記住Z軸的高度。
![](/assets/z_height.jpg)

# 修改gcode

使用文字編輯器打開gcode檔，搜尋剛才測量到的高度Z69，將游標停在上一行。
![](/assets/gcode_modify.png)

在找到中斷點後，接著回到文件最上方，搜尋第一個XYZ座標軸，位於M107的下一行，此為第一個正式列印指令。
![](/assets/gcode_modify2.png)

按住Shift，點選第一個正式列印指令，即可選取好已完成列印部分，再直接按刪除。
![](/assets/gcode_modify3.png)

接著找到E進料指令，因使用的切層軟體為Cura，它是累進計算的，此處找到的中斷點後第一個正式進料指令為E1786.92825，意思是從最一開始到該指令總共會擠出1786.92825的線材。要在前面加上一行G92 E1786.92825，讓設備知道上次擠出已累計到多少。
![](/assets/gcode_modify4.png)

再來找列印物件前，會在邊邊來回一趟畫直線並吐料的行為，此行為會有機會撞到物件，要註解掉，在前面加上;即可。
![](/assets/gcode_modify5.png)

看到上一行G28為XYZ歸零指令，等同於回原點的行為，要改成G28 X0 Y0，表示只針對XY做歸零。這個蠻重要的，若不修改，有高機率撞到物件。
![](/assets/gcode_modify6.png)

最後找到第一個運行Z軸的指令，將其修改成Z69.44，讓噴嘴列印前先移動到適當高度，避免正式列印時撞到物件。
![](/assets/gcode_modify7.png)

下一行原本功用是移動一小段，避免擠出料卡在同一處，不再需要用到，註解掉即可。
![](/assets/gcode_modify8.png)

存檔後便可開始測試。

# 再次提醒

修改過程難免會因不熟悉指令而設定錯誤，讓噴嘴去撞物件，趕緊關掉總電源即可。
只要有關機過，下次開機會有回原點的行為，所以一定要將物件先移走。
物件在的時候，也千萬不要操作回原點的行為，會打亂原本Z軸的設定。
如果只是缺料，設備並未重開機，只要gcode有修正好，便不需要先移走物件。

**參考資料**
1. [3D列印斷料、跳電補救方法-斷點修改G-code續印教學](https://z3dfilament.blogspot.com/2018/07/3d-g-code.html)